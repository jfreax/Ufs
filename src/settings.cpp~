/*
   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Library General Public
   License version 2 as published by the Free Software Foundation.

   This library is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
   Library General Public License for more details.

   You should have received a copy of the GNU Library General Public License
   along with this library; see the file COPYING.LIB.  If not, write to
   the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
   Boston, MA 02110-1301, USA.
*/
// #include <SFML/Window.hpp>
// #include <SFML/Graphics.hpp>

#include "config.hpp"

#include "game.hpp"
#include "util.hpp"
#include "settings.hpp"

namespace
{
Config config;

} // namespace


namespace settings
{

sf::VideoMode getVideo()
{
  return config.video;
}


sf::WindowSettings getWindowSettings()
{
  return config.windowSettings;
}


int getStyle()
{
  int style = sf::Style::Close;

  if ( getFullscreen() )
    style |= sf::Style::Fullscreen;

  return style;
}


std::string getPath()
{
  return config.path;
}


void setPath( std::string path_ )
{
  config.path = path_;
}


bool getFullscreen()
{
  return config.fullscreen;
}


void setFullscreen( bool ison )
{
  config.fullscreen = ison;
  getGameClass()->initialize();
}


void toggleFullscreen()
{
  config.fullscreen = !config.fullscreen;
}


bool showFps()
{
  return config.fps;
}


void setShowFps( bool ison )
{
  config.fps = ison;
}


int getHeight()
{
  return config.video.Height;
}


void setHeight( int height_ )
{
  config.video.Height = height_;
}


int getWidth()
{
  return config.video.Width;
}


void setWidth( int width_ )
{
  config.video.Width = width_;
  getGameClass()->getFpsStr()->SetPosition( settings::getWidth() - 70, 10 );
}


int getBpp()
{
  return config.video.BitsPerPixel;
}


void setBpp( int bpp_ )
{
  config.video.BitsPerPixel = bpp_;
}


std::string getTheme()
{
  return config.theme;
}


void setTheme ( std::string theme_ )
{
  if ( util::isFile( "themes/" + theme_ + ".ini" ) )
    config.theme = theme_;
  else
    std::cerr << "Theme-File not found: " << theme_ << std::endl;
}


} // namespace settings
